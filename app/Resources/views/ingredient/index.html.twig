{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="text-center">Ingredients</h1>
    <p>
        Search your food items (separate terms by spaces):
        <form class="input-group">
            <input class="form-control" type="text" placeholder="Enter Search Term..." name="q">
            <span class="input-group-btn">
                <button class="btn btn-default">
                    <i class="glyphicon glyphicon-search"></i>
                    Search
                </button>
            </span>
        </form>
    </p>
    <a class="btn btn-success" href="{{ path('ingredient_new') }}">
        <span class="glyphicon glyphicon-plus"></span> Add New Ingredient
    </a>

    {% if ingredients|length > 0 %}
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Ingredient Name</th>
                    <th class="text-right">Calories</th>
                    <th class="text-right">Fat</th>
                    <th class="text-right">Carbs</th>
                    <th class="text-right">Protein</th>
                    <th class="text-right"></th>
                </tr>
            </thead>
            <tbody>
                {% for ingredient in ingredients %}
                <tr>
                    <td><a href="{{ path('ingredient_show', {'id': ingredient.id }) }}">{{ ingredient.name }}</a></td>
                    <td class="text-right">{{ ingredient.calories }}kcal</td>
                    <td class="text-right">{{ ingredient.fat }}g</td>
                    <td class="text-right">{{ ingredient.carbs }}g</td>
                    <td class="text-right">{{ ingredient.protein }}g</td>
                    <td class="text-right" style="white-space: nowrap">
                        <a class="btn btn-primary" href="{{ path('ingredient_edit', {'id': ingredient.id}) }}">
                            <span class="glyphicon glyphicon-edit"></span> Edit
                        </a>
                        <a class="btn btn-danger" href="{{ path('ingredient_delete', {'id': ingredient.id}) }}">
                            <span class="glyphicon glyphicon-remove"></span> Delete
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}